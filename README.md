# 🎨 表情包添加文字插件 (AstrBot Plugin)
---

一款为 QQ 群设计的表情包文字添加插件，引用表情图片后添加自定义文字。

## ✨ 功能特色

- **支持多种格式**：jpg/png/gif 都能处理
- **智能参数解析**：参数顺序随意，自动识别
- **丰富的预设**：8种颜色、3种字体大小、9宫格位置
- **自动描边**：根据文字颜色自动添加对比描边
- **GIF支持**：逐帧添加文字，保持动画效果
- **高画质输出**：最高质量保存，保持图片清晰度

## 📝 使用方法

### 基本用法
1. 在群里引用一张表情图片
2. 发送命令：`表情加字 你想添加的文字`

### 完整命令格式
```
表情加字 [文字] [颜色] [字体大小] [位置] [描边]
```

**参数可以任意顺序！**

### 示例
| 命令 | 效果 |
|------|------|
| `表情加字 哈哈哈` | 默认白色中字体，显示在下方 |
| `表情加字 牛逼 红色` | 红色字体 |
| `表情加字 帅 大字体 上` | 大字体，顶部中间（兼容旧写法） |
| `表情加字 快跑 黄色 中字体 下右` | 黄色中字体，右下角位置 |
| `表情加字 666 黑色 白色描边` | 黑字白描边 |

### 帮助命令
发送 `皓月表情加字帮助` 查看详细使用说明

## 🎨 可用参数

### 颜色
`白色` `黑色` `红色` `黄色` `蓝色` `绿色` `粉色` `紫色`

### 字体大小
`小字体` `中字体` `大字体`

### 位置
`上左` `上中` `上右` `中左` `中` `中右` `下左` `下中` `下右`

兼容旧写法：`上` `中` `下`

### 描边
`白色描边` `黑色描边`（不写则自动选择）

## ⚙️ 配置说明

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| command_prefix | 命令触发词 | 表情加字 |
| default_color | 默认文字颜色 | 白色 |
| default_size | 默认字体大小 | 中字体 |
| default_position | 默认位置 | 下 |
| auto_stroke | 自动添加描边 | true |
| stroke_width | 描边宽度 | 2 |
| max_text_length | 最大文字长度 | 50 |
| cleanup_days | 临时文件清理天数 | 2 |

## 📦 安装方法

1. 将插件目录复制到 AstrBot 的 `data/plugins/` 目录
2. 重启 AstrBot

## 🔤 字体说明

插件会自动查找系统中文字体。如需自定义字体：
1. 在插件目录创建 `fonts` 文件夹
2. 放入 `.ttf` 字体文件（如 `NotoSansSC-Regular.ttf`）

## 📄 开源协议

MIT License

## 👨‍💻 作者

haoyuedashi
